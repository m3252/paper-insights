# _The Raft Consensus Algorithm: In Search of an Understandable Consensus Algorithm_

---

## 📌 TL;DR

**Raft는 Paxos보다 이해하기 쉬운 리더 기반 합의 알고리즘이다.**  

합의를 리더 선출, 로그 복제, 안정성 보장 등 명확한 단계로 나누어 설명함으로써, 분산 시스템 상태 복제를 직관적으로 이해하고 구현할 수 있도록 설계되었다.

---

## 핵심 요약

### 1. 이해하기 쉬운 합의 알고리즘을 목표로 함

- Paxos는 강력하지만 복잡하고 비직관적임
- Raft는 **"Understandability"** 를 핵심 목표로, 교육·구현이 쉬운 구조를 갖춤

### 2. 합의를 구성하는 주요 모듈을 분리

1. **리더 선출 (Leader Election)**
    - 서버 간 투표로 리더 결정
    - 리더가 있는 동안은 모든 요청을 리더가 처리함

2. **로그 복제 (Log Replication)**
    - 리더가 클라이언트 요청을 로그에 append
    - 팔로워는 리더로부터 append된 로그를 복제함

3. **안정성 보장 (Safety)**
    - **Leader Completeness**: 과거 커밋된 로그는 반드시 다음 리더에게 포함됨
    - 리더가 되려면 가장 최신 로그를 가진 서버여야 함

4. **구성 변경 (Membership Changes)**
    - 안정적인 방법으로 클러스터 구성 변경 처리
    - 단계별로 old/new 서버 모두에게 동기화해 일관성 유지

5. **로그 압축 (Log Compaction)**
    - 오래된 로그를 스냅샷으로 대체해 저장공간 절약

### 3. 리더 기반 설계로 단순화

- 모든 쓰기 요청은 리더를 통해서만 처리됨
- 팔로워는 리더에게 로그를 받아 그대로 저장만 함 → **상태 복제 구조가 단순하고 안정적**

### 4. 일관성 보장을 위한 규칙 설계

- 로그 항목은 `term + index`로 구성됨
- **AppendEntries** RPC는 로그 충돌 검증과 복제를 함께 처리

---
